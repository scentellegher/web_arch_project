<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
        <h:head>
        <title>OpenTownHall</title>
        <link href="resources/bootstrap/css/bootstrap.min.css" rel="stylesheet"></link>
        <script src="resources/bootstrap/js/jquery-1.11.1.min.js"></script>
        <script src="resources/bootstrap/js/bootstrap.min.js"></script>
    </h:head>
    <h:body>
        <div class="container">
            <div class="row">
                <div class="col-md-3"></div>
                <div class="col-md-6">
                    <hr/>
                    <h2>Sign Up</h2>
                        <h:form>
                        <div class="form-group">
                            <label for="name">Name</label>
                            <h:inputText id="name" value="#{registrationView.name}" class="form-control" pt:placeholder="Enter Name" required="true" requiredMessage="Name Required"/>
                            <h:message for="name" style="color:red;float: right;"/>
                        </div>
                        <div class="form-group">
                            <label for="surname">Surname</label>
                            <h:inputText id="surname" value="#{registrationView.surname}" class="form-control" pt:placeholder="Enter Surame" required="true" requiredMessage="Surname Required"/>
                            <h:message for="surname" style="color:red;float: right;"/>
                        </div>
                        <div class="form-group">
                            <label for="email">Email address</label>
                            <h:inputText id="email" value="#{registrationView.email}" class="form-control" pt:placeholder="Enter email" required="true" requiredMessage="Email Required">
                                <f:validator validatorId="emailValidator" />
                            </h:inputText>
                            <h:message for="email" style="color:red;float: right;"/>
                        </div>
                        <div class="form-group">
                            <label for="password1">Password</label>
                            <h:inputSecret id="password1" value="#{registrationView.password1}" class="form-control" pt:placeholder="Password" required="true" requiredMessage="Password Required"/>
                            <h:message for="password1" style="color:red;float: right;"/>
                        </div>
                        <div class="form-group">
                            <label for="password2">Re-enter Password</label>
                            <h:inputSecret id="password2" value="#{registrationView.password2}" class="form-control" pt:placeholder="Re-enter Password" required="true" requiredMessage="Password Required">
                                <f:validator validatorId="passwordValidator" />
                            </h:inputSecret>
                            <h:message for="password2" style="color:red;float: right;"/>
                        </div>
                        <div class="form-group">
                            <label for="birth">Birthdate</label>
                            <h:inputText id="birth" value="#{registrationView.birth}" class="form-control" pt:type="date" pt:placeholder="Enter Birthdate" required="true" requiredMessage="Birthdate Required">
                                 <f:convertDateTime pattern="yyyy-MM-dd"/>
                                <f:validator validatorId="dateValidator" />
                            </h:inputText>
                            <h:message for="birth" style="color:red;float: right;"/>
                        </div>
                        <div class="form-group">
                            <label for="address">Address</label>
                            <h:inputText id="address" value="#{registrationView.address}" class="form-control" pt:placeholder="Enter City, Address and Number" required="true" requiredMessage="Address Required"/>
                            <h:message for="address" style="color:red;float: right;"/>
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <h:inputText id="phone" value="#{registrationView.phone}" class="form-control" pt:placeholder="Enter Phone Number" required="true" requiredMessage="Phone number Required" validatorMessage="Invalid Phone number">
                                <f:validateRegex pattern="^[0-9]+$"/>
                            </h:inputText>
                            <h:message for="phone" style="color:red;float: right;"/>
                        </div>
                        <div class="form-group">
                            <label for="code">Fiscal Code</label>
                            <h:inputText id="code" value="#{registrationView.code}" class="form-control" pt:placeholder="Enter Fiscal Code" required="true" requiredMessage="Fiscal Code Required" validatorMessage="Invalid Fiscal Code">
                                <f:validateLength minimum="16" maximum="16" />
                                <f:validateRegex pattern="^([A-Za-z]{6}[0-9lmnpqrstuvLMNPQRSTUV]{2}[abcdehlmprstABCDEHLMPRST]{1}[0-9lmnpqrstuvLMNPQRSTUV]{2}[A-Za-z]{1}[0-9lmnpqrstuvLMNPQRSTUV]{3}[A-Za-z]{1})|([0-9]{11})$"/>
                            </h:inputText>
                            <h:message for="code" style="color:red;float: right;"/>
                        </div>
                            <h:commandButton class="btn btn-large btn-primary" action="#{registrationView.doRegistration()}" value="Sign in" rendered="#{loginView.loggedIn eq false}"></h:commandButton>
                            <h:commandButton class="btn btn-large btn-primary" action="#{registrationView.addWorker()}" value="Add Worker" rendered="#{loginView.loggedIn eq true}"></h:commandButton>
                    </h:form>
                    <hr/>
                </div>
                <div class="col-md-3"></div>
            </div>
        </div>
    </h:body>
</html>